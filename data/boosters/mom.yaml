# Data from https://magic.wizards.com/en/news/feature/collecting-march-of-the-machine
pack:
  basic_or_gainland: 1
  common_or_foil:
  - sfc_common: 8
    chance: 2
  - sfc_common: 7
    foil_with_showcase_and_mul: 1
    chance: 1
  sfc_uncommon: 2
  possible_rare_slot:
  - dfc_common_uncommon: 1
    uncommon_battle: 1
    sfc_rare_mythic: 1
    chance: 44*2 + 10
  - sfc_uncommon: 1
    dfc_common_uncommon: 1
    rare_mythic_battle: 1
    chance: 11*2 + 5
  - sfc_uncommon: 1
    uncommon_battle: 1
    dfc_rare_mythic: 1
    chance: 5*2 + 5
  multiverse_legend: 1
sheets:
  basic_or_gainland:
    any:
    - query: "is:gainland"
      chance: 1
    - use: basic
      chance: 1
  sfc_common:
    balanced: true
    query: "r:c is:sfc -is:gainland"
  dfc_common_uncommon:
    any:
    - use: dfc_common_with_showcase
      chance: 8 * 5
    - any:
      - rawquery: "e:{set} r:u promo:boosterfun -is:foilonly -frame:extendedart is:dfc is:paper"
        rate: 1
      - query: "r:u alt:(e:{set} r:u promo:boosterfun -is:foilonly -frame:extendedart) is:dfc"
        rate: 2
      - query: "r:u -alt:(e:{set} r:u promo:boosterfun -is:foilonly -frame:extendedart) is:dfc -t:battle"
        rate: 3
      chance: 4 * 10
  dfc_rare_mythic:
    any:
    - any:
      - rawquery: "e:{set} r:r promo:boosterfun -is:foilonly -frame:extendedart is:dfc is:paper"
        rate: 1
      - query: "r:r alt:(e:{set} r:r promo:boosterfun -is:foilonly -frame:extendedart) is:dfc"
        rate: 2
      - query: "r:r -alt:(e:{set} r:r promo:boosterfun -is:foilonly -frame:extendedart) is:dfc -t:battle"
        rate: 3
      chance: 2 * 5
    - any:
      - rawquery: "e:{set} r:m promo:boosterfun -is:foilonly -frame:extendedart is:dfc is:paper"
        rate: 1
      - query: "r:m alt:(e:{set} r:m promo:boosterfun -is:foilonly -frame:extendedart) is:dfc"
        rate: 2
      - query: "r:m -alt:(e:{set} r:m promo:boosterfun -is:foilonly -frame:extendedart) is:dfc -t:battle"
        rate: 3
      chance: 1 * 5
  sfc_rare_mythic:
    any:
    - use: sfc_rare_with_showcase
      chance: 2 * 44
    - use: sfc_mythic_with_showcase
      chance: 1 * 10
  uncommon_battle:
    query: "r:u t:battle"
  rare_mythic_battle:
    filter: "e:mom t:battle"
    use: rare_mythic
  multiverse_legend:
    filter: "e:mul -is:foilonly"
    use: base_1248_by_rarity
  foil_with_showcase_and_mul:
    foil: true
    any:
    - any:
      - use: common_showcase
        rate: 1
      - use: common_has_showcase
        rate: 2
      - use: common_has_no_showcase
        rate: 3
      - use: basic
        rate: 3
      chance: 12
    - any:
      - use: uncommon_showcase
        rate: 1
      - use: uncommon_has_showcase
        rate: 2
      - use: uncommon_has_no_showcase
        rate: 3
      - rawquery: "e:mul number:1-65 r:u" # Can we change the set size to make number<=set work?
        rate: 3
      chance: 5
    - any:
      - use: rare_showcase
        rate: 2
      - use: rare_has_showcase
        rate: 4
      - use: rare_has_no_showcase
        rate: 6
      - rawquery: "e:mul number:1-65 r:r"
        rate: 6
      - use: mythic_showcase
        rate: 1
      - use: mythic_has_showcase
        rate: 2
      - use: mythic_has_no_showcase
        rate: 3
      - rawquery: "e:mul number:1-65 r:m"
        rate: 3
      chance: 3